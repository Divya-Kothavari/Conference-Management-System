<div class="container-fluid">
    <div class="row" *ngIf="dataAvailable">
        <div class="col-md-8">
            <nz-card>
                <div class="d-flex justify-content-between">
                    <div class="media align-items-center">
                        <nz-avatar nzShape="square" nzSrc="assets/images/others/thumb-3.jpg"></nz-avatar>
                        <div class="m-l-10">
                            <h4 class="m-b-0">{{journalDetails.journalName}}</h4>
                        </div>
                    </div>
                    <div>
                        <nz-tag class="m-b-0" [nzColor]="'blue'">{{journalDetails.journalStatus}}</nz-tag>
                    </div>
                </div>
                <div class="m-t-40">
                    <h6>Description:</h6>
                    <p [innerText] = "journalDetails.aboutJournal"></p>
                </div>
                <div class="d-md-flex m-t-30 align-items-center justify-content-between">
                    <div class="d-flex align-items-center m-t-10">
                        <span class="text-dark font-weight-semibold m-r-10 m-b-5">Team: </span>
                        <a class="m-r-5 m-b-5" *ngFor="let item of memberList">
                            <nz-avatar [nzSize]="30" [nzSrc]="item.avatar" nz-tooltip [nzTitle]="item.name"></nz-avatar>
                        </a>
                    </div>
                    <div class="m-t-10">
                        <span class="font-weight-semibold m-r-10 m-b-5 text-dark">Due Date: </span>
                        <span>10 Feb 2019</span>
                    </div>
                </div>
                <div class="off-gutter-x m-t-30">
                    <nz-tabset>
                        <nz-tab nzTitle="Tasks (8)">
                            <div class="p-h-30 p-v-25">
                                <div class="m-b-25" *ngFor="let item of taskList">
                                    <label class="d-flex align-items-center" nz-checkbox [(ngModel)]="item.checked">
                                        <p class="m-b-0 d-inline-block">{{item.task}} </p>
                                    </label>
                                </div>
                            </div>
                        </nz-tab>
                        <nz-tab nzTitle="Comments">
                            <div class="p-h-30 p-v-25">
                                <nz-list [nzDataSource]="commentList" [nzRenderItem]="review" [nzItemLayout]="'vertical'" [nzPagination]="pagination">
                                    <ng-template #review let-item>
                                        <nz-list-item [nzContent]="item.review">
                                            <nz-list-item-meta
                                                [nzTitle]="reviewTitle"
                                                [nzAvatar]="item.img"
                                                [nzDescription]="item.date">
                                                <ng-template #reviewTitle>
                                                    <a class="font-size-15" href="">{{item.name}}</a>
                                                </ng-template>
                                            </nz-list-item-meta>
                                        </nz-list-item>
                                    </ng-template>
                                    <ng-template #pagination>
                                        <nz-pagination [nzPageIndex]="1" [nzTotal]="50"></nz-pagination>
                                    </ng-template>
                                </nz-list>
                            </div>
                        </nz-tab>
                        <nz-tab nzTitle="Attachment">
                            <div class="p-h-30 p-v-25">
                                <a class="file p-15" *ngFor="let item of fileList" style="min-width: 200px">
                                    <div class="d-flex align-items-center justify-content-between">
                                        <div class="media">
                                            <nz-avatar *ngIf="item.type == 'zip'" nzShape="square" nzIcon="file-exclamation" class="ant-avatar-cyan font-size-20"></nz-avatar>
                                            <nz-avatar *ngIf="item.type == 'doc'" nzShape="square" nzIcon="file-word" class="ant-avatar-blue font-size-20"></nz-avatar>
                                            <nz-avatar *ngIf="item.type == 'image'" nzShape="square" nzIcon="picture" class="ant-avatar-gold font-size-20"></nz-avatar>
                                            <div class="m-l-10">
                                                <h6 class="m-b-0">{{item.name}}</h6>
                                                <span class="text-muted font-size-13">{{item.size}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </nz-tab>
                    </nz-tabset>
                </div>
            </nz-card>
        </div>
        <div class="col-md-4">
            <nz-card [nzTitle]="EditorialBoardMembers">

                    <ng-template #EditorialBoardMembers>
                            <div>EB Members <a (click)="isVisibleEbmember = true" class="float-right" href="Javascript:void("><i nz-icon nzType="plus-circle" nzTheme="outline"></i> Add EBMebmer</a> </div>
                    </ng-template>


                    <nz-modal [(nzVisible)]="isVisibleEbmember" (nzOnCancel)="handleCancelEbmmeber()"
                    [nzFooter]="modalFooterEbmember" nzTitle="Add/Edit EBMebmer">
                        <form nz-form [formGroup]="ebmemberForm">
                                <nz-form-item>
                                        <nz-form-label nzFor="Country Name">Country Name</nz-form-label>
                                        <nz-form-control>
                                            <input formControlName="countryName" nz-input type="text" placeholder="Country Name">
                                            <nz-form-explain *ngIf="ebmemberForm.get('countryName').dirty && ebmemberForm.get('countryName').errors">Please input Country Name!</nz-form-explain>
                                        </nz-form-control>
                                    </nz-form-item>
                                     <nz-form-item>
                                        <nz-form-label nzFor="countryCode">Country Code</nz-form-label>
                                        <nz-form-control>
                                            <input formControlName="countryCode" disabled="editmode" nz-input type="text" placeholder="Country Code">
                                            <nz-form-explain *ngIf="ebmemberForm.get('countryCode').dirty && ebmemberForm.get('countryCode').errors">Please input country Code!</nz-form-explain>
                                        </nz-form-control>
                                    </nz-form-item>
                                      <nz-form-item>
                                          <nz-form-label nzFor="regionCode">Region Code</nz-form-label>
                                          <nz-form-control>
                                          <nz-select formControlName="regionCode"  nzShowSearch  nzPlaceHolder="Select a region" [(ngModel)]="selectedRegion">
                                                  <nz-option *ngFor="let region of listOfRegions" [nzLabel]="region.regionCode" [nzValue]="region.regionCode"></nz-option>
                                              </nz-select>
                                              <nz-form-explain *ngIf="ebmemberForm.get('regionCode').dirty && ebmemberForm.get('regionCode').errors">Please input Region Code!</nz-form-explain>
                                          </nz-form-control>
                                      </nz-form-item>
                                      <nz-form-item>
                                              <nz-form-label nzFor="regionCode">Economic Status</nz-form-label>
                                              <nz-form-control>
                                                      <nz-select formControlName="economicStatus"  nzShowSearch  nzPlaceHolder="Select economic status" [(ngModel)]="selectedStatus">
                                                              <nz-option nzLabel="Low" nzValue="Low"></nz-option>
                                                              <nz-option nzLabel="Middle" nzValue="Middle"></nz-option>
                                                              <nz-option nzLabel="High" nzValue="High"></nz-option>
                                                          </nz-select>
                                                          <nz-form-explain *ngIf="ebmemberForm.get('economicStatus').dirty && ebmemberForm.get('economicStatus').errors">Please input economic status!</nz-form-explain>
                                              </nz-form-control>
                                      </nz-form-item>     
                        </form>
                          <ng-template #modalFooterEbmember>
                            <button nz-button nzType="default" (click)="handleCancelEbmember()">Cancel</button>
                            <button [nzLoading]="isLoadingEbmember" nz-button nzType="primary" [disabled]="!ebmemberForm.valid" (click)="addEbmember()">Add</button>
                          </ng-template>
                      </nz-modal>


                <nz-timeline>
                    <nz-timeline-item *ngFor="let item of activityList" [nzDot]="dotTemplate">
                        <div class="m-l-20">
                            <div class="media align-items-center">
                                <nz-avatar [nzSrc]="item.avatar"></nz-avatar>
                                <div class="m-l-10">
                                    <h6 class="m-b-0">{{item.name}}</h6>
                                    <span class="text-muted font-size-13">
                                        <i nz-icon type="clock-circle" theme="outline"></i>
                                        <span class="m-l-5">{{item.date}}</span>
                                    </span>
                                </div>
                            </div>
                            <div class="m-t-20">
                                <p class="m-l-20">
                                    <span class="text-dark font-weight-semibold">{{item.action}} </span> 
                                    <span class="m-l-5"> {{item.target}}</span>
                                </p>
                            </div>
                        </div>
                        <ng-template #dotTemplate>
                            <nz-avatar *ngIf="item.actionType == 'completed'" [nzSize]="25" class="ant-avatar-cyan" nzIcon="check"></nz-avatar>
                            <nz-avatar *ngIf="item.actionType == 'upload'" [nzSize]="25" class="ant-avatar-blue" nzIcon="link"></nz-avatar>
                            <nz-avatar *ngIf="item.actionType == 'comment'" [nzSize]="25" class="ant-avatar-purple" nzIcon="message"></nz-avatar>
                            <nz-avatar *ngIf="item.actionType == 'removed'" [nzSize]="25" class="ant-avatar-red" nzIcon="delete"></nz-avatar>
                            <nz-avatar *ngIf="item.actionType == 'created'" [nzSize]="25" class="ant-avatar-gold" nzIcon="file-add"></nz-avatar>
                        </ng-template>
                    </nz-timeline-item>
                </nz-timeline>
            </nz-card>
        </div>
    </div>
</div>